db/watermark_repository.go
仓库逻辑:
记录某个用户对某张图片进行水印处理的操作记录--水印操作日志表（WatermarkLog）
```
type WatermarkLog struct {
	ID           uint      `gorm:"primaryKey"`
	UserID       string
	ImageID      string
	WatermarkID  string
	CreatedAt    time.Time
}
```
作用：

建立水印追溯日志：

创建一个新的数据库模型 WatermarkLog。

每当成功生成一张带水印的图片时，必须在该表中记录一条日志，包含 UserID, ImageID, Watermark (水印ID) 和 Timestamp。这是未来溯源的法律依据。

db/image_repository.go

存储加密后的图片数据（[]byte）

封装数据库操作逻辑:Create+GetByID

services/cache_service.go
引入高性能缓存：

水印处理是计算密集型操作。为避免重复劳动，需引入缓存机制。

使用内存缓存（如 go-cache）即可。

缓存键（Key）应由 userID 和 imageID 组合而成。

缓存值（Value）是已处理完成并编码好的图片字节流。
